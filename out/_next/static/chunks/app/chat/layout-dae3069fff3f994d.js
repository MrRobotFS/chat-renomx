(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[317],{7957:function(e,r,t){Promise.resolve().then(t.bind(t,4962))},4962:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return p}});var a=t(7437),s=t(2265),n=t(8301);let l=(0,n.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),o=(0,n.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),d=(0,n.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),i=(0,n.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),c=(0,n.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);function x(e){let{isOpen:r,onClose:t,conversations:s,currentConversationId:n,onSelectConversation:x,onNewConversation:h,onDeleteConversation:u,user:g,onLogout:m}=e;return(0,a.jsxs)("aside",{className:"sidebar-transition ".concat(r?"translate-x-0 md:w-64":"-translate-x-full md:w-0"," fixed md:relative z-30 inset-y-0 left-0 w-64 bg-white dark:bg-dark border-r border-gray-200 dark:border-gray-700 flex flex-col overflow-hidden"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("img",{src:"/renovables-logo.png",alt:"Renovables del Sur MX",className:"h-8 w-8 object-contain"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Renobot"}),g&&(0,a.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:g.employee.full_name})]})]}),(0,a.jsx)("button",{onClick:t,className:"md:hidden p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"\xd7"})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("button",{onClick:h,className:"w-full flex items-center space-x-2 p-3 bg-primary hover:bg-primary-600 text-white rounded-lg transition-colors duration-200",children:[(0,a.jsx)(l,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Nueva conversaci\xf3n"})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Conversaciones recientes"}),s.map(e=>(0,a.jsxs)("div",{className:"group relative",children:[(0,a.jsx)("button",{onClick:()=>x(e.id),className:"w-full text-left p-3 rounded-lg transition-colors duration-200 ".concat(n===e.id?"bg-primary-50 dark:bg-primary-900/20 border border-primary-200 dark:border-primary-800":"hover:bg-gray-100 dark:hover:bg-dark"),children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)(o,{className:"h-4 w-4 text-gray-400 mt-1 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.title||"Nueva conversaci\xf3n"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.updated_at).toLocaleDateString("es-ES",{month:"short",day:"numeric"})})]})]})}),(0,a.jsx)("button",{onClick:r=>{r.stopPropagation(),u(e.id)},className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-all duration-200",children:(0,a.jsx)(d,{className:"h-4 w-4"})})]},e.id))]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 space-y-2",children:[(0,a.jsxs)("button",{className:"w-full flex items-center space-x-3 p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark rounded-lg transition-colors duration-200",children:[(0,a.jsx)(i,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-sm",children:"Configuraci\xf3n"})]}),(0,a.jsxs)("button",{onClick:m,className:"w-full flex items-center space-x-3 p-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark rounded-lg transition-colors duration-200",children:[(0,a.jsx)(c,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-sm",children:"Cerrar sesi\xf3n"})]})]})]})}let h=(0,n.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var u=t(7166),g=t(5889);function m(e){let{onToggleSidebar:r,isSidebarOpen:t}=e,[n,l]=(0,s.useState)("Modelo R\xe1pido"),[o,d]=(0,s.useState)(!1);return(0,a.jsx)("header",{className:"bg-white dark:bg-dark border-b border-gray-200 dark:border-gray-700 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("button",{onClick:r,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark rounded-lg transition-colors duration-200",children:(0,a.jsx)(h,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>d(!o),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 dark:bg-dark text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-dark transition-colors duration-200",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:n}),(0,a.jsx)(u.Z,{className:"h-4 w-4"})]}),o&&(0,a.jsx)("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white dark:bg-dark border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-10",children:["Modelo R\xe1pido","Modelo Avanzado","Modelo Especializado"].map(e=>(0,a.jsx)("button",{onClick:()=>{l(e),d(!1)},className:"w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-dark first:rounded-t-lg last:rounded-b-lg transition-colors duration-200",children:e},e))})]})]}),(0,a.jsx)(g.T,{})]})})}var y=t(3080),k=t(6281);function p(e){let{children:r}=e,[t,n]=(0,s.useState)(!1),{conversations:l,currentConversation:o,createConversation:d,selectConversation:i,deleteConversation:c}=(0,y.R)(),{user:h,logout:u}=(0,k.a)();(0,s.useEffect)(()=>{let e=()=>{window.innerWidth>=768?n(!0):n(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=()=>{n(!1)};return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50 dark:bg-dark",children:[(0,a.jsx)(x,{isOpen:t,onClose:g,conversations:l,currentConversationId:(null==o?void 0:o.id)||null,onSelectConversation:i,onNewConversation:()=>{d()},onDeleteConversation:c,user:h,onLogout:u}),t&&(0,a.jsx)("div",{className:"md:hidden fixed inset-0 bg-black bg-opacity-50 z-20",onClick:g}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden transition-all duration-300 ".concat("md:ml-0"),children:[(0,a.jsx)(m,{onToggleSidebar:()=>{n(!t)},isSidebarOpen:t}),(0,a.jsx)("main",{className:"flex-1 overflow-hidden",children:r})]})]})}},5889:function(e,r,t){"use strict";t.d(r,{T:function(){return d}});var a=t(7437),s=t(8301);let n=(0,s.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),l=(0,s.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var o=t(6380);function d(){let{theme:e,toggleTheme:r}=(0,o.Fg)();return(0,a.jsx)("button",{onClick:r,className:"p-2 rounded-lg bg-gray-200 dark:bg-dark-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-dark-600 transition-colors duration-200","aria-label":"Toggle theme",children:"light"===e?(0,a.jsx)(n,{className:"h-5 w-5"}):(0,a.jsx)(l,{className:"h-5 w-5"})})}},6380:function(e,r,t){"use strict";t.d(r,{Fg:function(){return n},Gd:function(){return l},Ni:function(){return s}});var a=t(2265);let s=(0,a.createContext)(void 0);function n(){let e=(0,a.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}function l(){let[e,r]=(0,a.useState)("light");return(0,a.useEffect)(()=>{let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",a=e||t;r(a),document.documentElement.classList.toggle("dark","dark"===a)},[]),{theme:e,toggleTheme:()=>{let t="light"===e?"dark":"light";r(t),localStorage.setItem("theme",t),document.documentElement.classList.toggle("dark","dark"===t)}}}},8301:function(e,r,t){"use strict";t.d(r,{Z:function(){return l}});var a=t(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var l=(e,r)=>{let t=(0,a.forwardRef)((t,l)=>{let{color:o="currentColor",size:d=24,strokeWidth:i=2,absoluteStrokeWidth:c,children:x,...h}=t;return(0,a.createElement)("svg",{ref:l,...s,width:d,height:d,stroke:o,strokeWidth:c?24*Number(i)/Number(d):i,className:"lucide lucide-".concat(n(e)),...h},[...r.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...(Array.isArray(x)?x:[x])||[]])});return t.displayName="".concat(e),t}},7166:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8301).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])}},function(e){e.O(0,[80,971,117,744],function(){return e(e.s=7957)}),_N_E=e.O()}]);